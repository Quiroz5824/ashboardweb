{% extends 'base_admin.html' %}
{% load static %}

{% block title %}Subir Calificaciones{% endblock %}

{% block content %}
<div class="admin-panel">
    <h1>Subir Calificaciones</h1>

    <!-- ✅ Formulario para generar plantilla -->
    <form method="POST" action="{% url 'generar_plantilla_csv' %}" class="form-box">
        {% csrf_token %}
        <h3>Generar plantilla CSV:</h3>
        <p>Selecciona los campos que deseas incluir:</p>

        <div class="checkbox-group">
            <label><input type="checkbox" name="campos" value="matricula"> Matrícula</label>
            <label><input type="checkbox" name="campos" value="nombre"> Nombre</label>
            <label><input type="checkbox" name="campos" value="apellido_paterno"> Apellido Paterno</label>
            <label><input type="checkbox" name="campos" value="apellido_materno"> Apellido Materno</label>
            <label><input type="checkbox" name="campos" value="genero"> Género</label>
            <label><input type="checkbox" name="campos" value="preparatoria"> Preparatoria</label>
            <label><input type="checkbox" name="campos" value="carrera"> Carrera</label>
            <label><input type="checkbox" name="campos" value="materia"> Materia</label>
            <label><input type="checkbox" name="campos" value="periodo"> Periodo</label>
            <label><input type="checkbox" name="campos" value="calificacion"> Calificación</label>
            <label><input type="checkbox" name="campos" value="fecha"> Fecha</label>
        </div>

        <button type="submit" class="btn-admin">Descargar Plantilla</button>
    </form>

    <!-- ✅ Formulario para subir archivo Excel -->
    <form method="POST" enctype="multipart/form-data" class="form-box" style="margin-top: 30px;">
        {% csrf_token %}
        <h3>Subir archivo Excel:</h3>
        <input type="file" name="archivo_excel" accept=".xlsx, .xls" required class="input-file">
        <button type="submit" class="btn-admin">Subir archivo</button>
    </form>
</div>
{% endblock %}
